# وثيقة سيناريوهات الاستخدام لنظام احجزلي

## مقدمة
نظام احجزلي هو نظام حجوزات حافلات متكامل مصمم لتسهيل عمليات الحجز وإدارة الأسطول لشركات النقل. النظام يدعم متعدد الأدوار بما في ذلك المشرفين، شركاء النقل، السائقين، والعملاء.

## السيناريوهات التشغيلية

### 1. حسابات المستخدمين

#### سيناريو 1: تسجيل حساب شريك
**الزناد:** المستخدم ينقر على "قدّم طلب انضمام" في صفحة تسجيل الدخول.
**الفاعل الأساسي:** مالك/ممثل شركة نقل.
**التدفق الأساسي:**
1. المستخدم ينقر على رابط "انضم إلى منصة احجزلي".
2. النظام يعرض نموذج تسجيل من ثلاث مراحل.
3. المستخدم يدخل معلومات المالك (الاسم، الجوال، البريد الإلكتروني، كلمة المرور).
4. المستخدم يدخل معلومات الشركة (اسم الشركة، المدينة، العنوان، عدد الحافلات).
5. المستخدم يرفق الوثائق المطلوبة (السجل التجاري، شهادة الزكاة).
6. المستخدم يوافق على الشروط ويرسل الطلب.
7. النظام ينشئ حساب مستخدم ويحول الطلب إلى قسم المراجعة.
8. النظام يرسل رسالة تأكيد وينهي الجلسة.
**النتائج المتوقعة:** طلب انضمام محفوظ قيد المراجعة، تلويح للمستخدم بأن الطلب تم إرساله.
**تدفقات بديلة/أخطاء:** 
- بريد إلكتروني غير صحيح: النظام يعرض رسالة خطأ.
- هاتف غير صحيح: النظام يعرض رسالة خطأ.
- فشل رفع الوثائق: النظام يعرض رسالة خطأ.
- تكرار البريد الإلكتروني: النظام يمنع إنشاء الحساب.

#### سيناريو 2: تسجيل الدخول إلى النظام
**الزناد:** المستخدم ينقر على رابط "تسجيل الدخول".
**الفاعل الأساسي:** مستخدم (شريك، مسؤول، سائق).
**التدفق الأساسي:**
1. المستخدم يدخل البريد الإلكتروني وكلمة المرور.
2. المستخدم ينقر على زر "تسجيل الدخول".
3. النظام يتحقق من صحة البيانات.
4. النظام يتحقق من دور المستخدم.
5. النظام يوجه المستخدم إلى لوحة التحكم المناسبة.
**النتائج المتوقاعدة:** المستخدم ينتقل إلى لوحة التحكم حسب دوره.
**تدفقات بديلة/أخطاء:**
- بيانات تسجيل دخول غير صحيحة: النظام يعرض رسالة خطأ.
- الحساب غير نشط: النظام يعرض رسالة بأن الحساب قيد المراجعة.
- تجاوز الحد الأقصى لمحاولات الدخول: النظام يمنع محاولات الدخول مؤقتاً.

#### سيناريو 3: إدارة الملف الشخصي
**الزناد:** المستخدم ينقر على "الملف الشخصي" في القائمة.
**الفاعل الأساسي:** مستخدم مسجل (شريك، مسؤول، سائق).
**التدفق الأساسي:**
1. النظام يعرض صفحة الملف الشخصي.
2. المستخدم يرى معلومات الحساب الحالية.
3. المستخدم يعدل الحقول المطلوبة.
4. المستخدم يحفظ التعديلات.
5. النظام يتحقق من صحة البيانات.
6. النظام يحفظ التعديلات ويعرض رسالة تأكيد.
**النتائج المتوقاعدة:** معلومات الحساب تم تحديثها بنجاح.
**تدفقات بديلة/أخطاء:**
- بيانات غير صحيحة: النظام يعرض رسالة خطأ.
- عدم وجود إذن للتعديل: النظام يعرض رسالة رفض.

### 2. إدارة الشركاء

#### سيناريو 4: مراجعة طلبات الانضمام
**الزناد:** المسؤول يفتح صفحة "طلبات الانضمام" في لوحة التحكم.
**الفاعل الأساسي:** مسؤول النظام.
**التدفق الأساسي:**
1. النظام يعرض قائمة بطلبات الانضمام.
2. المسؤول يختار طلب معلق.
3. المسؤول يراجع معلومات الطلب والوثائق.
4. المسؤول يقرر قبول أو رفض الطلب.
5. في حالة القبول: النظام ينشئ حساب شريك ويعيّن الأدوار.
6. في حالة الرفض: النظام يسجل سبب الرفض ويرسل إشعاراً.
7. النظام يحفظ التغييرات ويرسل إشعارات.
**النتائج المتوقاعدة:** طلب تم قبوله أو رفضه مع إشعارات متعلقة.
**تدفقات بديلة/أخطاء:**
- وثائق غير كافية: المسؤول يرفض الطلب.
- فشل إنشاء الحساب: النظام يعرض رسالة خطأ.
- معلومات غير صحيحة: المسؤول يراجع القرار.

#### سيناريو 5: إدارة شركاء النقل
**الزناد:** المسؤول ينقر على "إدارة الشركاء" في لوحة التحكم.
**الفاعل الأساسي:** مسؤول النظام.
**التدفق الأساسي:**
1. النظام يعرض قائمة بجميع شركاء النقل.
2. المسؤول يمكنه فرز وتصفية الشركاء.
3. المسؤول يختار شريك لمراجعة تفاصيله.
4. المسؤول يمكنه تعديل معلومات الشريك أو تعليق الحساب.
5. النظام يحفظ التعديلات ويرسل إشعارات.
**النتائج المتوقاعدة:** معلومات الشريك تم تعديلها أو تم تعليق الحساب.
**تدفقات بديلة/أخطاء:**
- فشل في تعديل البيانات: النظام يعرض رسالة خطأ.
- محاولة تعديل حساب غير موجود: النظام يعرض رسالة خطأ.

### 3. إدارة الأسطول والرحلات

#### سيناريو 6: إنشاء رحلة جديدة
**الزناد:** الشريك ينقر على "رحلة جديدة" في صفحة إدارة الرحلات.
**الفاعل الأساسي:** شريك أو موظف.
**التدفق الأساسي:**
1. النظام يعرض نموذج إنشاء رحلة.
2. الشريك يختار المسار من القائمة.
3. الشريك يدخل وقت المغادرة والوصول.
4. الشريك يختار الحافلة من الأسطول.
5. الشريك يختار السائق من الموظفين.
6. الشريك يحدد السعر الأساسي للرحلة.
7. الشريك يختار سياسة الإلغاء.
8. الشريك يحفظ الرحلة.
9. النظام يتحقق من صحة البيانات وينشئ الرحلة.
**النتائج المتوقاعدة:** رحلة جديدة محفوظة في جدول الرحلات.
**تدفقات بديلة/أخطاء:**
- الحافلة مشغولة في نفس الوقت: النظام يعرض تنبيه.
- السائق مشغول في نفس الوقت: النظام يعرض تنبيه.
- بيانات غير مكتملة: النظام يعرض رسالة خطأ.

#### سيناريو 7: إدارة الحافلات
**الزناد:** الشريك ينقر على "إدارة الأسطول" في لوحة التحكم.
**الفاعل الأساسي:** شريك أو موظف.
**التدفق الأساسي:**
1. النظام يعرض قائمة بالحافلات.
2. الشريك يمكنه إضافة حافلة جديدة.
3. الشريك يدخل تفاصيل الحافلة (الرخصة، النموذج، السعة).
4. الشريك يحفظ معلومات الحافلة.
5. النظام يتحقق من صحة البيانات ويسجل الحافلة.
**النتائج المتوقاعدة:** حافلة جديدة مسجلة في الأسطول.
**تدفقات بديلة/أخطاء:**
- رقم الرخصة مكرر: النظام يعرض رسالة خطأ.
- معلومات غير مكتملة: النظام يعرض رسالة خطأ.

#### سيناريو 8: إدارة السائقين
**الزناد:** الشريك ينقر على "إدارة السائقين" في لوحة التحكم.
**الفاعل الأساسي:** شريك أو موظف.
**التدفق الأساسي:**
1. النظام يعرض قائمة بالسائقين.
2. الشريك يمكنه إضافة سائق جديد.
3. الشريك يدخل معلومات السائق (الاسم، الهاتف، الرقم الترخيص).
4. الشريك يحفظ معلومات السائق.
5. النظام يتحقق من صحة البيانات ويسجل السائق.
**النتائج المتوقاعدة:** سائق جديد مسجل في قاعدة البيانات.
**تدفقات بديلة/أخطاء:**
- معلومات غير مكتملة: النظام يعرض رسالة خطأ.
- رقم الترخيص مكرر: النظام يعرض تنبيه.

### 4. عمليات الحجز

#### سيناريو 9: حجز رحلة
**الزناد:** العميل ينقر على "حجز رحلة" في واجهة الحجز.
**الفاعل الأساسي:** عميل.
**التدفق الأساسي:**
1. العميل يختار مسار ووقت الرحلة.
2. النظام يعرض الرحلات المتوفرة.
3. العميل يختار رحلة مناسبة.
4. العميل يختار المقاعد المتوفرة.
5. العميل يدخل معلومات الركاب.
6. العميل يختار طريقة الدفع.
7. العميل يؤكد الحجز ويقوم بالدفع.
8. النظام ينشئ الحجز ويرسل التذكرة.
**النتائج المتوقاعدة:** حجز مؤكد مع تذكرة تم إرسالها للعميل.
**تدفقات بديلة/أخطاء:**
- عدم توفر مقاعد: النظام يعرض رسالة.
- فشل الدفع: النظام يعرض رسالة خطأ.
- معلومات غير صحيحة: النظام يعرض رسالة توجيه.

#### سيناريو 10: إدارة الحجوزات
**الزناد:** الشريك ينقر على "إدارة الحجوزات" في لوحة التحكم.
**الفاعل الأساسي:** شريك أو موظف.
**التدفق الأساسي:**
1. النظام يعرض قائمة بالحجوزات.
2. الشريك يمكنه فرز وتصفية الحجوزات.
3. الشريك يختار حجز لمراجعة تفاصيله.
4. الشريك يمكن أن يوافق أو يرفض الحجز.
5. الشريك يمكن أن يؤكد الدفع أو يلغي الحجز.
6. النظام يحفظ التعديلات ويرسل إشعارات.
**النتائج المتوقاعدة:** حالة الحجز تم تحديثها وتم إرسال إشعارات.
**تدفقات بديلة/أخطاء:**
- محاولة تغيير حجز غير مسموح: النظام يعرض رسالة رفض.
- فشل في إرسال الإشعارات: النظام يسجل الخطأ.

#### سيناريو 11: إلغاء الحجز واسترداد المبلغ
**الزناد:** العميل يطلب إلغاء الحجز أو الشريك يلغي الحجز.
**الفاعل الأساسي:** عميل أو شريك.
**التدفق الأساسي:**
1. النظام يعرض تفاصيل الحجز.
2. النظام يحسب رسوم الإلغاء حسب سياسة الإلغاء.
3. النظام يعرض معاينة المبلغ المسترد.
4. المستخدم يؤكد الإلغاء وسببه.
5. النظام يلغي الحجز ويحجز المقاعد.
6. النظام يبدأ عملية استرداد المبلغ.
7. النظام يرسل إشعاراً بالتغيير.
**النتائج المتوقاعدة:** الحجز ملغى والمبلغ المسترد تم حسابه.
**تدفقات بديلة/أخطاء:**
- لا يوجد سياسة إلغاء: النظام يطبق سياسة افتراضية.
- فشل في استرداد المبلغ: النظام يسجل ملاحظة للدعم.

### 5. الفوترة والعمولات

#### سيناريو 12: إدارة العمولات
**الزناد:** المسؤول ينقر على "إدارة العمولات" في لوحة التحكم.
**الفاعل الأساسي:** مسؤول النظام.
**التدفق الأساسي:**
1. النظام يعرض تفاصيل العمولات.
2. المسؤول يرى توزيع العمولات بين الشركاء.
3. المسؤول يمكن أن يراجع أو يعدل العمولات.
4. النظام يحسب العمولات حسب المعايير.
5. النظام ينشئ تقارير العمولات.
**النتائج المتوقاعدة:** تقارير مالية دورية للعمولات.
**تدفقات بديلة/أخطاء:**
- عدم تطابق الحسابات: النظام يعرض تنبيه.
- أخطاء في الحسابات: النظام يسجل المشكلة.

#### سيناريو 13: إنشاء فاتورة شريك
**الزناد:** النظام يبدأ إنشاء فاتورة دورية للشريك.
**الفاعل الأساسي:** النظام.
**التدفق الأساسي:**
1. النظام يجمع بيانات الحجوزات في الفترة.
2. النظام يحسب إجمالي الإيرادات للشريك.
3. النظام يحسب العمولة المخصومة.
4. النظام ينشئ الفاتورة ويحفظها.
5. النظام يرسل الفاتورة للشريك.
**النتائج المتوقاعدة:** فاتورة دورية محفوظة ومُرسلة.
**تدفقات بديلة/أخطاء:**
- عدم وجود بيانات كافية: النظام لا يصدر فاتورة.
- أخطاء في الحسابات: النظام يعيد الحساب.

### 6. الإشعارات والتنبيهات

#### سيناريو 14: إرسال إشعارات
**الزناد:** يحدث تغيير في الحجز أو رحلة.
**الفاعل الأساسي:** النظام.
**التدفق الأساسي:**
1. النظام يكتشف تغيير في الحالة.
2. النظام يحدد المستلمين المناسبين.
3. النظام ينشئ نوع الإشعار المناسب.
4. النظام يرسل الإشعارات عبر القنوات المتوفرة.
5. النظام يسجل الإشعارات المرسلة.
**النتائج المتوقاعدة:** المستلمون يتلقون إشعارات فورية.
**تدفقات بديلة/أخطاء:**
- فشل في إرسال الإشعار: النظام يعيد المحاولة.
- عدم وجود قناة اتصال: النظام يسجل المشكلة.

### 7. الدعم الفني وخدمة العملاء

#### سيناريو 15: إنشاء تذكرة دعم
**الزناد:** المستخدم ينقر على "الدعم الفني".
**الفاعل الأساسي:** مستخدم (شريك، عميل).
**التدفق الأساسي:**
1. النظام يعرض نموذج تذكرة الدعم.
2. المستخدم يختار نوع المشكلة.
3. المستخدم يكتب وصفاً مفصلاً.
4. المستخدم يرفق مرفقات إن وجدت.
5. المستخدم يرسل التذكرة.
6. النظام يسجل التذكرة ويرسل إشعاراً.
**النتائج المتوقاعدة:** تذكرة دعم محفوظة قيد المراجعة.
**تدفقات بديلة/أخطاء:**
- معلومات غير كافية: النظام يعرض تنبيه.
- فشل في رفع المرفقات: النظام يعرض رسالة.

#### سيناريو 16: إدارة تذاكر الدعم
**الزناد:** موظف الدعم يفتح صفحة إدارة التذاكر.
**الفاعل الأساسي:** موظف الدعم.
**التدفق الأساسي:**
1. النظام يعرض قائمة بتذاكر الدعم.
2. موظف الدعم يختار تذكرة لمراجعتها.
3. موظف الدعم يقرأ وصف المشكلة.
4. موظف الدعم يرد على التذكرة.
5. موظف الدعم يغلق التذكرة عند الحل.
6. النظام يرسل إشعاراً للمستخدم.
**النتائج المتوقاعدة:** تذكرة دعم تم الرد عليها وحلها.
**تدفقات بديلة/أخطاء:**
- عدم وجود معلومات كافية: النظام يطلب مزيد من التفاصيل.
- مشكلة تقنية: النظام يحول التذكرة إلى فريق تقني.

### 8. التحليلات ولوحات التحكم

#### سيناريو 17: عرض تقارير الحجوزات
**الزناد:** الشريك ينقر على "التقارير" في لوحة التحكم.
**الفاعل الأساسي:** شريك أو مسؤول.
**التدفق الأساسي:**
1. النظام يعرض لوحة التقارير.
2. الشريك يختار نوع التقرير المطلوب.
3. الشريك يحدد الفترة الزمنية.
4. النظام يعرض البيانات في شكل رسوم بيانية.
5. الشريك يمكن أن يصدر التقرير.
**النتائج المتوقاعدة:** تقرير تحليلي معروض على الشاشة.
**تدفقات بديلة/أخطاء:**
- فترة غير صحيحة: النظام يعرض رسالة.
- عدم وجود بيانات: النظام يعرض رسالة مناسبة.

#### سيناريو 18: إدارة سياسات الإلغاء
**الزناد:** الشريك ينقر على "سياسات الإلغاء" في لوحة التحكم.
**الفاعل الأساسي:** شريك أو مسؤول.
**التدفق الأساسي:**
1. النظام يعرض السياسات الحالية.
2. الشريك يمكن أن يضيف سياسة جديدة.
3. الشريك يحدد شروط الإلغاء ونسبة الاسترداد.
4. الشريك يحفظ السياسة.
5. النظام يطبق السياسة على الحجوزات المستقبلية.
**النتائج المتوقاعدة:** سياسة إلغاء محفوظة وفعالة.
**تدفقات بديلة/أخطاء:**
- شروط متعارضة: النظام يعرض تنبيه.
- فشل في الحفظ: النظام يعرض رسالة خطأ.